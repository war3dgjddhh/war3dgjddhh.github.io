<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://war3dgjddhh.github.io/</id>
    <title>Gridea</title>
    <updated>2021-07-15T12:15:21.940Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://war3dgjddhh.github.io/"/>
    <link rel="self" href="https://war3dgjddhh.github.io/atom.xml"/>
    <subtitle>温故而知新</subtitle>
    <logo>https://war3dgjddhh.github.io/images/avatar.png</logo>
    <icon>https://war3dgjddhh.github.io/favicon.ico</icon>
    <rights>All rights reserved 2021, Gridea</rights>
    <entry>
        <title type="html"><![CDATA[学习python的云端开发框架之django2]]></title>
        <id>https://war3dgjddhh.github.io/post/xue-xi-python-de-yun-duan-kai-fa-kuang-jia-zhi-django2/</id>
        <link href="https://war3dgjddhh.github.io/post/xue-xi-python-de-yun-duan-kai-fa-kuang-jia-zhi-django2/">
        </link>
        <updated>2021-07-15T12:13:39.000Z</updated>
        <content type="html"><![CDATA[<h2 id="1django2框架的安装">1.django2框架的安装</h2>
<h3 id="方式一-pip安装">方式一 pip安装</h3>
<pre><code>pip install django
</code></pre>
<h1 id="2检测djiango是否安装成功">2.检测djiango是否安装成功</h1>
<pre><code>python -m django --version
</code></pre>
<h1 id="3django2小练">3.django2小练</h1>
<h2 id="步骤一-新建一个web框架工程-工程一个应用的程序员说法">步骤一: 新建一个Web框架工程 (工程：一个应用的程序员说法)</h2>
<pre><code>django-admin startproject mysite
</code></pre>
<h2 id="步骤二修改工程增加功能">步骤二:修改工程,增加功能</h2>
<h3 id="1创建一个具体的应用">1.创建一个具体的应用</h3>
<pre><code>python manage.py startapp helloapp
</code></pre>
<h3 id="2修改应用的viewpy对url的具体响应功能">2.修改应用的view.py:对URL的具体响应功能</h3>
<h3 id="3修改url路由指定url与响应之间的关系">3.修改URL路由:指定URL与响应之间的关系</h3>
<h2 id="步骤三调试运行web框架">步骤三:调试运行web框架</h2>
<pre><code>python manage.py runserver
</code></pre>
<h1 id="django的mtv开发模式">django的MTV开发模式</h1>
<h2 id="web云端的三个功能-数据组织-控制逻辑-web展示">Web云端的三个功能 数据组织 控制逻辑 Web展示</h2>
<h2 id="mmodules-模型-与数据组织相关的功能数据">M:Modules 模型 与数据组织相关的功能(数据)</h2>
<h2 id="ttemplates-模板-与表现相关的所有功能样式">T:Templates 模板 与表现相关的所有功能(样式)</h2>
<h2 id="vviews-视图-针对请求选取数据的功能处理">V:Views 视图 针对请求选取数据的功能(处理)</h2>
<p>需求</p>
<p>返回一个HTML页面,而不是一个字符串</p>
<p>思路</p>
<p>建立模板(T),对应特定请求,返回模板页面</p>
<p>1.新建hello2app应用</p>
<p>2.使用某页面为返回页面,修改views.py</p>
<p>3.在hello2app应用中,新建urls.py文件(本地路由文件)</p>
<p>4.在全局路由文件中增加对本应用路由文件的引用</p>
<p>5.设置模板路径,让Django框架找到模板所在目录</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Djanjo路由学习笔记]]></title>
        <id>https://war3dgjddhh.github.io/post/djanjo-lu-you-xue-xi-bi-ji/</id>
        <link href="https://war3dgjddhh.github.io/post/djanjo-lu-you-xue-xi-bi-ji/">
        </link>
        <updated>2021-07-15T12:11:30.000Z</updated>
        <content type="html"><![CDATA[<h2 id="django的url文件中root_urlconf变量指定全局路由文件名称">Django的URL文件中ROOT_URLCONF变量指定全局路由文件名称</h2>
<pre><code>ROOT_URLCONF = '&lt;工程名称&gt;.urls' # 默认对应工程目录下urls.py文件
</code></pre>
<p>Django使用urlpatterns变量表示路由(urls.py), 该变量是列表类型,由path()或re_path()作为元素组成</p>
<pre><code>rulpatterns = [
	path('msggate/', include('msgapp.urls')),
	path('admin/', admin.site.urls),
]
</code></pre>
<h2 id="django的url路由流程">Django的URL路由流程</h2>
<ol>
<li>Django查找全局urlpatterns变量(urls.py)</li>
<li>按照先后顺序, 对URL逐一匹配urlpatterns每个元素</li>
<li>找到第一个匹配时停止查找, 根据匹配结果执行对应处理函数</li>
<li>如果没有找到匹配或出现异常, Django将进行错误处理</li>
</ol>
<h3 id="注意">注意</h3>
<p>Django的路由不考虑HTTP请求方式, 仅根据URL进行路由, 即 , 只要URL相同, 无论POST、GET等那种请求方式都指向同一个操作函数.</p>
<h2 id="路由path和re_path">路由:path()和re_path()</h2>
<p>path()处理字符串路由, re_path()处理正则表达式路由</p>
<p>route:URL字符串</p>
<p>path(route, view)</p>
<p>view:对应处理函数</p>
<p>re_path(route, view)</p>
<p>route:正则表达式</p>
<h2 id="路由函数path">路由函数path()</h2>
<p>path(route, view, kwargs=None, name=None)</p>
<ol>
<li>route: URL或URL模式, Django定义的URL转换语法</li>
<li>view: 处理函数(视图)的名称, 或include()类</li>
<li>kwargs: 向处理函数提供的额外参数, 以字典形式表示</li>
<li>name: 给URL模式的命名</li>
</ol>
<pre><code>from django.urls import path
from . import views

urlpatterns = [
	path('articles/2003/', views.special_case_2003),
	path('articles/&lt;int:year&gt;/', views.year_archive),
	path('articles/&lt;int:year&gt;/&lt;int:month&gt;/', views.month_archive),
	path('articles/&lt;int:year&gt;/&lt;int:month&gt;/&lt;slug:slug&gt;/', views.article_detail ),
] 
</code></pre>
<h2 id="django支持三种方式表达route">Django支持三种方式表达route</h2>
<ol>
<li>精确字符串格式: artcles/2003/</li>
<li>Django的转换格式:  &lt;类型: 变量名&gt;, articles/&lt;int: year&gt;/</li>
<li>正则表达式格式: articles/(?P<year>[0-9]{4})/</li>
</ol>
<h3 id="精确字符串格式">精确字符串格式</h3>
<ol>
<li>一个精确URL匹配一个操作函数</li>
<li>最简单形式, 适合对静态URL的响应</li>
<li>URL字符串不以/开头, 但要以/结尾</li>
</ol>
<h3 id="django的转换格式">Django的转换格式</h3>
<ol>
<li>一个URL模板, 匹配URL同时获取其中一批变量作为参数</li>
<li>常用形式, 目的是通过URL进行参数获取和传递</li>
<li>采用&lt;类型: 变量名&gt;获取参数</li>
</ol>
<p>例子<img src="C:%5CUsers%5C27783%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20210715173013208.png" alt="image-20210715173013208" loading="lazy"></p>
<table>
<thead>
<tr>
<th style="text-align:center">转换格式类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">str</td>
<td>匹配除分割符以外(/)的非空字符串, 默认类型<year>等价于&lt;str: yeear&gt;</td>
</tr>
<tr>
<td style="text-align:center">int</td>
<td>匹配0和正整数</td>
</tr>
<tr>
<td style="text-align:center">slug</td>
<td>匹配字母、数字、斜杠、下划线组成的字符串,str的子集</td>
</tr>
<tr>
<td style="text-align:center">uuid</td>
<td>匹配格式化的uuid, 如: 075194d3-6885-417e-a8a8-6c931e272f00</td>
</tr>
<tr>
<td style="text-align:center">path</td>
<td>匹配任何非孔字符串,包括路径分隔符, 是全集</td>
</tr>
</tbody>
</table>
<figure data-type="image" tabindex="1"><img src="C:%5CUsers%5C27783%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20210715174502750.png" alt="image-20210715174502750" loading="lazy"></figure>
<h2 id="正则表达式格式">正则表达式格式</h2>
<ol>
<li>
<p>借助正则表达式丰富语法表达一类URL(不是一个)</p>
</li>
<li>
<p>可以通过&lt;&gt;提取变量作为处理函数的参数, 高级用法</p>
</li>
<li>
<p>re_path()函数 articles/[0-9]{4}/</p>
</li>
<li>
<p>使用re_path()函数, 两种具体形式</p>
<p>简单形式(pattern), 不提取参数: articles/[0-9]{4}/</p>
<p>命名形式(?P<name>pattern), 提取参数, 统一为str类型:</p>
<p>​     articles/(?P<year>[0-9]{4})/</p>
</li>
</ol>
<pre><code>urlpatterns = [
	re_path('artcles/(?P&lt;year&gt;[0-9]{4})/', views.year_articles)
	re_path('artcles/(?P&lt;year&gt;[0-9]{4})/(?P&lt;month&gt;[0-9]{2})/', views.month_articles)
	re_path('artcles/(?P&lt;year&gt;[0-9]{4(?P&lt;month&gt;[0-9]{2})/(?P&lt;msg&gt;[\w-_]+/, ) views.article_detail)
]
</code></pre>
<figure data-type="image" tabindex="2"><img src="C:%5CUsers%5C27783%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20210715175955266.png" alt="image-20210715175955266" loading="lazy"></figure>
<h2 id="view的使用">view的使用</h2>
<h3 id="view包括两种类型处理函数和include函数">VIew包括两种类型:处理函数和include()函数</h3>
<figure data-type="image" tabindex="3"><img src="C:%5CUsers%5C27783%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20210715181143555.png" alt="image-20210715181143555" loading="lazy"></figure>
<p>include()用法: 1)附加本地路由;  2)路由去重</p>
<pre><code>urlpatterns = [
	path('&lt;page_sing&gt;-&lt;page_id&gt;/history/', view.history),
	path('&lt;page_sing&gt;-&lt;page_id&gt;/edit/', view.edit),
	path('&lt;page_sing&gt;-&lt;page_id&gt;/discuss/', view.discuss),
	path('&lt;page_sing&gt;-&lt;page_id&gt;/permissions/', view.permissions)
]
</code></pre>
<p>去重后代码</p>
<pre><code>urlpatterns = [
	path('&lt;page_sing&gt;-&lt;page_id&gt;/', include([
		path('history/', view.history),
		path('edit/', view.edit),
		path('discuss/', view.discuss),
		path('permissions/', view.permissions),
	])),
]
</code></pre>
<h2 id="url根目录的处理">URL根目录的处理</h2>
<figure data-type="image" tabindex="4"><img src="C:%5CUsers%5C27783%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20210715181928351.png" alt="image-20210715181928351" loading="lazy"></figure>
]]></content>
    </entry>
</feed>